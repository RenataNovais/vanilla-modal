<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script type="module" src="/modal.js"></script>

        <title>Confirmation Modal/Dialog</title>
    </head>

    <body>
        <div>
            <button onclick=openModal()>Click me</button>

            <div>
                <p class="message"></p>
            </div>
        </div>
    </body>

    <script>
        const handleConfirmationClick = () => {
            const message = document.querySelector('.message');

            message.textContent = 'You just clicked "Yes"';
        }

        const handleCancelConfirmationDialogClick = () => {
            const message = document.querySelector('.message');

            message.textContent = 'You just clicked "Cancel"';
        }

        const cleanUpMessage = () => {
            const message = document.querySelector('.message');

            message.textContent = '';
        }

        async function openModal() {
            cleanUpMessage();
            const modal = document.createElement('custom-modal');
            modal.content = 'Are you sure you want to continue';
            modal.leftText = 'Yes';
            modal.rightText = 'Cancel';
            modal.handleLeftClick = () => handleConfirmationClick();
            modal.handleRightClick = () => handleCancelConfirmationDialogClick();

            document.body.appendChild(modal);
        }
    </script>
</html>